var EDEN_UI_HELPER=function(){function e(h,g,f){return f=f||"0",h=h+"",h.length>=g?h:new Array(g-h.length+1).join(f)+h}var c=0,d=0,b={},a=function(){for(var h=document.cookie.split(";"),l=0;l<h.length;l++){var j=h[l].split("="),g=$.trim(j[0]),k=unescape(j[1]);b[g]=k}};return a(),{countDown:function(j,h){if(j.length>0){var k=(new Date).getTime(),g=parseInt(h),l=setInterval(m,1000);function m(){var t=(new Date).getTime(),q=Math.round((t-k)/1000),n=g-q;if(0>=n){clearInterval(l);window.location.href=window.location.href;return}var r=parseInt(n/60),p=parseInt(n%60),u=parseInt(r/60),f=parseInt(r%60);j.html(e(u,2)+":"+e(f,2)+":"+e(p,2))}}},isAndroid:function(f){return f=f||navigator.userAgent,f.toLowerCase().indexOf("android")>-1},isIOS:function(f){return navigator&&navigator.platform?(f=f||navigator.platform,/iP(?:hone|od|ad)/.test(f)):!1},showAndroidSmartBanner:function(){var g=this,h,f},getCookie:function(f){return b[f]},setCookie:function(k,h,g){var j=new Date,f;j.setTime(j.getTime()+g*86400000);f=k+"="+h+";expires="+j.toGMTString()+";path=/";document.cookie=f},delCookie:function(f){document.cookie=f+"=;expires="+new Date(0).toGMTString()+";path=/"},InitWidgets:function(){$("#Calculator").modal({keyboard:!1,backdrop:"static",show:!1});var f=function(){var j=$("#Cal-Amount").val(),h=$("#Cal-Income"),k=$("#Cal-InterestRate").val()/100,g=$("#Cal-FinancingMaturity").val(),l;l=(j*k*g/365).toFixed(2);h.html("");isNaN(l)||h.html(l)};$("#cal").on("click",function(){f()});$(window).on("keydown",function(g){g.keyCode==13&&$("#Calculator").css("display")=="block"&&f()})},RefreshCaptcha:function(){$("#CaptchaImage").on("click",function(f){f.preventDefault();$.getJSON($(this).attr("data-href"),function(g){$("#CaptchaDeText").attr("value",g.CaptchaDeText);$("#CaptchaImage").attr("src",g.CaptchaImage)})})},MarkCurrentPage:function(){var j,l;if($(".js-ignore-pagemark").length==0){var m=function(f){f.addClass("active")},k=$(".nav-collapse .nav"),g=0,h;if(k.length!=0){if(j=$(".sub-nav"),j.length!=0){l=j.attr("sup");m($("#"+l));return}k.find("li").each(function(){h=$(this).find("a");window.location.href.indexOf(h.attr("href"))!=-1&&h.attr("href")!="/"&&(m($(this)),g=1)});g===0&&m($("#Home"))}}},FixSubNavToTop:function(){var h=$(".sub-nav"),g,f;h.length!=0&&(g=h.offset().top,f=function(){if($(window).width()<979){h.hasClass("fixed-top")&&(h.removeClass("fixed-top"),$("body").attr("style","padding-top:0px"));return}if(h.length!=0){var j=$(window).scrollTop();j>=g&&!h.hasClass("fixed-top")?(h.addClass("fixed-top"),$("body").attr("style","padding-top:50px")):j<g&&h.hasClass("fixed-top")&&(h.removeClass("fixed-top"),$("body").attr("style","padding-top:0px"))}},$(window).bind("scroll resize",f),f())},FixFooterToBottom:function(){function h(){if($(window).width()<979){j.hasClass("fixedToBottom")&&j.removeClass("fixedToBottom");return}j.length!=0&&(f=$(window).height(),f>g?j.addClass("fixedToBottom"):j.removeClass("fixedToBottom"))}var j=$("footer").add(".sup-footer"),g,f;if(j.length!=0){g=$(document.body).height();$(window).on("resize",h);h()}},ChangeFormToAjax:function(j,g,f,h){j==null&&(j=$("form"));j.submit(function(){return g!=null&&!g(j)?!1:($.ajax({type:j.attr("method"),url:j.attr("action"),data:j.serialize()}).done(function(i){f!=null&&f(j,i)}).fail(function(i){h!=null&&h(j,i)}),!1)})},PairRadioOrCheckboxWithTextbox:function(f){f=f||$(".js-radio-checkbox-text");f.each(function(k,h){var g=$(h).find(":radio:last, :checkbox:last"),j=$(h).find(":text");g.on("click",function(){this.checked&&j.focus()});j.on("focus",function(){g.attr("checked","checked")})})},HookResponsiveTable:function(g){var f=g==undefined?$(".table-responsive"):g.find(".table-responsive");$.each(f,function(q,k){var h=$(k).find("th"),l="",m="table-responsive-"+ ++d,j,p;for($(k).attr("id",m),j=0;j<h.length;j++){p="#"+m+" td:nth-of-type("+(j+1)+"):before{content:'"+h.eq(j).text()+"'}\n",l+=p}$("head").append("<style type='text/css'>"+l+"</style>")})},HookDatePicker:function(g){var f=g==undefined?$(".js-date-picker"):g.find(".js-date-picker");$("#date-picker-1").datepicker({format:"yyyy-mm-dd",language:"zh-CN",endDate:"0d"}).on("changeDate",function(h){$(this).blur();if(h.date.valueOf()>new Date(Date.parse($("#date-picker-2").val().replace(/-/g,"/"))).getTime()){$("#date-picker-1").datepicker("update",new Date())}});$("#date-picker-2").datepicker({format:"yyyy-mm-dd",language:"zh-CN",endDate:"0d"}).on("changeDate",function(h){$(this).blur();if(h.date.valueOf()<new Date(Date.parse($("#date-picker-1").val().replace(/-/g,"/"))).getTime()){$("#date-picker-2").datepicker("update",new Date())}})},HookLookup:function(g){var f=g==undefined?$(".js-lookup"):g.find(".js-lookup");$.each(f,function(k,j){var h=parseInt($(j).attr("ui-tree-id"),10);EDEN_TREE.BindLookup($(j),h)})},HookFlotLookup:function(g){var f=g==undefined?$(".js-flat-lookup"):g.find(".js-flat-lookup");$.each(f,function(k,j){var h=parseInt($(j).attr("ui-tree-id"),10);EDEN_TREE.BindFlatLookup($(j),h)})},HookAutoComplete:function(g){var f=g==undefined?$(".js-auto-complete"):g.find(".js-auto-complete");$.each(f,function(k,j){var h=parseInt($(j).attr("ui-tree-id"),10);EDEN_TREE.BindAutoComplete($(j),h)})}}}();
